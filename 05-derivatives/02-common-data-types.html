
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="canonical" href="https://bids-specification.readthedocs.io/en/stable/05-derivatives/02-common-data-types.html">
      
      <link rel="icon" href="../images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.2, mkdocs-material-7.2.8">
    
    
      
        <title>Common data types and metadata - Brain Imaging Data Structure v1.6.1-dev</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.92558b1b.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.3f5d1f46.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#common-data-types-and-metadata" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Brain Imaging Data Structure v1.6.1-dev" class="md-header__button md-logo" aria-label="Brain Imaging Data Structure v1.6.1-dev" data-md-component="logo">
      
  <img src="../images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Brain Imaging Data Structure v1.6.1-dev
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Common data types and metadata
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Brain Imaging Data Structure v1.6.1-dev" class="md-nav__button md-logo" aria-label="Brain Imaging Data Structure v1.6.1-dev" data-md-component="logo">
      
  <img src="../images/logo.png" alt="logo">

    </a>
    Brain Imaging Data Structure v1.6.1-dev
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" checked>
      
      <label class="md-nav__link" for="__nav_1">
        The BIDS Specification
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="The BIDS Specification" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          The BIDS Specification
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../01-introduction.html" class="md-nav__link">
        Introduction
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../02-common-principles.html" class="md-nav__link">
        Common principles
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../03-modality-agnostic-files.html" class="md-nav__link">
        Modality agnostic files
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_4" type="checkbox" id="__nav_1_4" >
      
      <label class="md-nav__link" for="__nav_1_4">
        Modality specific files
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Modality specific files" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_4">
          <span class="md-nav__icon md-icon"></span>
          Modality specific files
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../04-modality-specific-files/01-magnetic-resonance-imaging-data.html" class="md-nav__link">
        Magnetic Resonance Imaging
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../04-modality-specific-files/02-magnetoencephalography.html" class="md-nav__link">
        Magnetoencephalography
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../04-modality-specific-files/03-electroencephalography.html" class="md-nav__link">
        Electroencephalography
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../04-modality-specific-files/04-intracranial-electroencephalography.html" class="md-nav__link">
        Intracranial Electroencephalography
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../04-modality-specific-files/05-task-events.html" class="md-nav__link">
        Task events
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../04-modality-specific-files/06-physiological-and-other-continuous-recordings.html" class="md-nav__link">
        Physiological and other continuous recordings
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../04-modality-specific-files/07-behavioral-experiments.html" class="md-nav__link">
        Behavioral experiments (with no neural recordings)
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../04-modality-specific-files/08-genetic-descriptor.html" class="md-nav__link">
        Genetic Descriptor
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../04-modality-specific-files/09-positron-emission-tomography.html" class="md-nav__link">
        Positron Emission Tomography
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_5" type="checkbox" id="__nav_1_5" checked>
      
      <label class="md-nav__link" for="__nav_1_5">
        Derivatives
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Derivatives" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_5">
          <span class="md-nav__icon md-icon"></span>
          Derivatives
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="01-introduction.html" class="md-nav__link">
        BIDS Derivatives
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Common data types and metadata
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="02-common-data-types.html" class="md-nav__link md-nav__link--active">
        Common data types and metadata
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#common-file-level-metadata-fields" class="md-nav__link">
    Common file level metadata fields
  </a>
  
    <nav class="md-nav" aria-label="Common file level metadata fields">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spatial-references" class="md-nav__link">
    Spatial references
  </a>
  
    <nav class="md-nav" aria-label="Spatial references">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#spatialreference-key-allowed-values" class="md-nav__link">
    SpatialReference key allowed values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_1" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preprocessed-or-cleaned-data" class="md-nav__link">
    Preprocessed or cleaned data
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="03-imaging.html" class="md-nav__link">
        Imaging data types
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../06-longitudinal-and-multi-site-studies.html" class="md-nav__link">
        Longitudinal and multi-site studies
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../07-extensions.html" class="md-nav__link">
        BIDS Extension Proposals
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_8" type="checkbox" id="__nav_1_8" >
      
      <label class="md-nav__link" for="__nav_1_8">
        Appendix
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Appendix" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_8">
          <span class="md-nav__icon md-icon"></span>
          Appendix
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../99-appendices/01-contributors.html" class="md-nav__link">
        Contributors
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../99-appendices/02-licenses.html" class="md-nav__link">
        Licenses
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../99-appendices/03-hed.html" class="md-nav__link">
        Hierarchical Event Descriptors
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../99-appendices/04-entity-table.html" class="md-nav__link">
        Entity table
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../99-appendices/05-units.html" class="md-nav__link">
        Units
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../99-appendices/06-meg-file-formats.html" class="md-nav__link">
        MEG file formats
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../99-appendices/07-meg-systems.html" class="md-nav__link">
        MEG systems
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../99-appendices/08-coordinate-systems.html" class="md-nav__link">
        Coordinate systems
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../99-appendices/09-entities.html" class="md-nav__link">
        Entities
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../99-appendices/10-file-collections.html" class="md-nav__link">
        File collections
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../99-appendices/11-qmri.html" class="md-nav__link">
        Quantitative MRI
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../99-appendices/12-arterial-spin-labeling.html" class="md-nav__link">
        Arterial Spin Labeling
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../99-appendices/13-cross-modality-correspondence.html" class="md-nav__link">
        Cross modality correspondence
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../CHANGES.html" class="md-nav__link">
        Changelog
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      <label class="md-nav__link" for="__nav_2">
        The BIDS Starter Kit
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="The BIDS Starter Kit" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          The BIDS Starter Kit
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/bids-standard/bids-starter-kit" class="md-nav__link">
        GitHub repository
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/bids-standard/bids-starter-kit/wiki/Tutorials" class="md-nav__link">
        Tutorials
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/bids-standard/bids-starter-kit/wiki" class="md-nav__link">
        Wiki
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#common-file-level-metadata-fields" class="md-nav__link">
    Common file level metadata fields
  </a>
  
    <nav class="md-nav" aria-label="Common file level metadata fields">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spatial-references" class="md-nav__link">
    Spatial references
  </a>
  
    <nav class="md-nav" aria-label="Spatial references">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#spatialreference-key-allowed-values" class="md-nav__link">
    SpatialReference key allowed values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_1" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preprocessed-or-cleaned-data" class="md-nav__link">
    Preprocessed or cleaned data
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="common-data-types-and-metadata"><a class="toclink" href="#common-data-types-and-metadata">Common data types and metadata</a></h1>
<h2 id="common-file-level-metadata-fields"><a class="toclink" href="#common-file-level-metadata-fields">Common file level metadata fields</a></h2>
<p>Each derivative data file SHOULD be described by a JSON file provided as a sidecar
or higher up in the hierarchy of the derived dataset (according to the
<a href="../02-common-principles.html#the-inheritance-principle">Inheritance Principle</a>)
unless a particular derivative includes REQUIRED metadata fields, in which case a
JSON file is also REQUIRED.
Each derivative type defines their own set of fields, but all of them
share the following (non-required) ones:</p>
<table>
<thead>
<tr>
<th><strong>Key name</strong></th>
<th><strong>Requirement Level</strong></th>
<th><strong>Data type</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Description</td>
<td>RECOMMENDED</td>
<td><a href="https://www.w3schools.com/js/js_json_datatypes.asp">string</a></td>
<td>Free-form natural language description.  This describes the nature of the file.</td>
</tr>
<tr>
<td>Sources</td>
<td>OPTIONAL</td>
<td><a href="https://www.w3schools.com/js/js_json_arrays.asp">array</a> of <a href="https://www.w3schools.com/js/js_json_datatypes.asp">strings</a></td>
<td>A list of files with the paths specified relative to dataset root; these files were directly used in the creation of this derivative data file. For example, if a derivative A is used in the creation of another derivative B, which is in turn used to generate C in a chain of A-&gt;B-&gt;C, C should only list B in <code>Sources</code>, and B should only list A in <code>Sources</code>. However, in case both X and Y are directly used in the creation of Z, then Z should list X and Y in <code>Sources</code>, regardless of whether X was used to generate Y.</td>
</tr>
<tr>
<td>RawSources</td>
<td>OPTIONAL</td>
<td><a href="https://www.w3schools.com/js/js_json_arrays.asp">array</a> of <a href="https://www.w3schools.com/js/js_json_datatypes.asp">strings</a></td>
<td>A list of paths relative to dataset root pointing to the BIDS-Raw file(s) that were used in the creation of this derivative.</td>
</tr>
</tbody>
</table>
<h3 id="examples"><a class="toclink" href="#examples">Examples</a></h3>
<p>Preprocessed <code>bold</code> NIfTI file in the original coordinate space of the original run.
The location of the file in the original datasets is encoded in the <code>RawSources</code>
metadata, and <code>desc-&lt;label&gt;</code> is used to prevent clashing with the original file name.</p>
<div class="highlight"><pre><span></span><code>└─ sub-01/
   └─ func/
      ├─ sub-01_task-rest_desc-preproc_bold.nii.gz 
      └─ sub-01_task-rest_desc-preproc_bold.json 
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
    <span class="nt">&quot;RawSources&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;sub-01/func/sub-01_task-rest_bold.nii.gz&quot;</span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>If this file was generated with prior knowledge from additional sources, such as
the same subject's <code>T1w</code>, then both files MAY be included in <code>RawSources</code>.</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
    <span class="nt">&quot;RawSources&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;sub-01/func/sub-01_task-rest_bold.nii.gz&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sub-01/anat/sub-01_T1w.nii.gz&quot;</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>On the other hand, if a preprocessed version of the T1w image was used, and it also
occurs in the derivatives, <code>Sources</code> and <code>RawSources</code> can both be specified.</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
    <span class="nt">&quot;Sources&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;sub-01/anat/sub-01_desc-preproc_T1w.nii.gz&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;RawSources&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;sub-01/func/sub-01_task-rest_bold.nii.gz&quot;</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="spatial-references"><a class="toclink" href="#spatial-references">Spatial references</a></h2>
<p>Derivatives are often aligned to a common spatial reference to allow for the
comparison of acquired data across runs, sessions, subjects or datasets.
A file may indicate the spatial reference to which it has been aligned using the
<code>space</code> entity and/or the <code>SpatialReference</code> metadata.</p>
<p>The <code>space</code> entity may take any value in <a href="../99-appendices/08-coordinate-systems.html#image-based-coordinate-systems">Image-Based Coordinate Systems</a>.</p>
<p>If the <code>space</code> entity is omitted, or the space is not in the <a href="../99-appendices/08-coordinate-systems.html#standard-template-identifiers">Standard template
identifiers</a> table, then the <code>SpatialReference</code> metadata is REQUIRED.</p>
<table>
<thead>
<tr>
<th><strong>Key name</strong></th>
<th><strong>Requirement Level</strong></th>
<th><strong>Data type</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>SpatialReference</td>
<td>RECOMMENDED if the derivative is aligned to a standard template listed in <a href="../99-appendices/08-coordinate-systems.html#standard-template-identifiers">Standard template identifiers</a>. REQUIRED otherwise.</td>
<td><a href="https://www.w3schools.com/js/js_json_datatypes.asp">string</a> or <a href="https://www.json.org/json-en.html">object</a></td>
<td>For images with a single reference, the value MUST be a single string. For images with multiple references, such as surface and volume references, a JSON object MUST be used.</td>
</tr>
</tbody>
</table>
<h3 id="spatialreference-key-allowed-values"><a class="toclink" href="#spatialreference-key-allowed-values">SpatialReference key allowed values</a></h3>
<table>
<thead>
<tr>
<th><strong>Value</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>orig</code></td>
<td>A (potentially unique) per-image space. Useful for describing the source of transforms from an input image to a target space.</td>
</tr>
<tr>
<td>URI or path</td>
<td>This can be used to point to a specific file. Paths are written relative to the root of the derivative dataset.</td>
</tr>
</tbody>
</table>
<p>In the case of images with multiple references, an <a href="https://www.json.org/json-en.html">object</a> must link the relevant structures to reference files.
If a single volumetric reference is used for multiple structures, the <code>VolumeReference</code> key MAY be used to reduce duplication.
For CIFTI-2 images, the relevant structures are BrainStructure values defined in the BrainModel elements found in the CIFTI-2 header.</p>
<h3 id="examples_1"><a class="toclink" href="#examples_1">Examples</a></h3>
<p>Preprocessed <code>bold</code> NIfTI file in <code>individual</code> coordinate space. Please mind
that in this case <code>SpatialReference</code> key is REQUIRED.</p>
<div class="highlight"><pre><span></span><code>└─ sub-01/
   └─ func/
      ├─ sub-01_task-rest_space-individual_bold.nii.gz 
      └─ sub-01_task-rest_space-individual_bold.json 
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
    <span class="nt">&quot;SpatialReference&quot;</span><span class="p">:</span> <span class="s2">&quot;sub-01/anat/sub-01_desc-combined_T1w.nii.gz&quot;</span>
<span class="p">}</span>
</code></pre></div>
<p>Preprocessed <code>bold</code> CIFTI-2 files that have been sampled to the fsLR surface
meshes defined in the Conte69 atlas along with the MNI152NLin6Asym template.
In this example, because all volumetric structures are sampled to the same
reference, the <code>VolumeReference</code> key is used as a default, and only the
surface references need to be specified by BrainStructure names.</p>
<div class="highlight"><pre><span></span><code>└─ sub-01/
   └─ func/
      ├─ sub-01_task-rest_space-fsLR_den-91k_bold.dtseries.nii 
      └─ sub-01_task-rest_space-fsLR_den-91k_bold.json 
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
    <span class="nt">&quot;SpatialReference&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;VolumeReference&quot;</span><span class="p">:</span> <span class="s2">&quot;https://templateflow.s3.amazonaws.com/tpl-MNI152NLin6Asym_res-02_T1w.nii.gz&quot;</span><span class="p">,</span>
        <span class="nt">&quot;CIFTI_STRUCTURE_CORTEX_LEFT&quot;</span><span class="p">:</span> <span class="s2">&quot;https://github.com/mgxd/brainplot/raw/master/brainplot/Conte69_Atlas/Conte69.L.midthickness.32k_fs_LR.surf.gii&quot;</span><span class="p">,</span>
        <span class="nt">&quot;CIFTI_STRUCTURE_CORTEX_RIGHT&quot;</span><span class="p">:</span> <span class="s2">&quot;https://github.com/mgxd/brainplot/raw/master/brainplot/Conte69_Atlas/Conte69.R.midthickness.32k_fs_LR.surf.gii&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="preprocessed-or-cleaned-data"><a class="toclink" href="#preprocessed-or-cleaned-data">Preprocessed or cleaned data</a></h2>
<p>Template:</p>
<div class="highlight"><pre><span></span><code>&lt;pipeline_name&gt;/
    sub-&lt;label&gt;/
        &lt;datatype&gt;/
            &lt;source_entities&gt;[_space-&lt;space&gt;][_desc-&lt;label&gt;]_&lt;suffix&gt;.&lt;ext&gt;
</code></pre></div>
<p>Data is considered to be <em>preprocessed</em> or <em>cleaned</em> if the data type of the input,
as expressed by the BIDS <code>suffix</code>, is unchanged.
By contrast, processing steps that change the number of dimensions are likely to disrupt
the propagation of the input's <code>suffix</code> and generally, the outcomes of such transformation
cannot be considered preprocessed or cleaned data.</p>
<p>Examples of preprocessing:</p>
<ul>
<li>Motion-corrected, temporally denoised, and transformed to MNI space BOLD series</li>
<li>Inhomogeneity corrected and skull stripped T1w files</li>
<li>Motion-corrected DWI files</li>
<li>Time-domain filtered EEG data</li>
<li>MaxFilter (for example, SSS) cleaned MEG data</li>
</ul>
<p>The <code>space</code> keyword is recommended to distinguish files with different underlying
coordinate systems or registered to different reference maps.
See <a href="#spatial-references">Spatial references</a> for details.
The <code>desc</code> (description) keyword is a general purpose field with freeform values,
which SHOULD be used to distinguish between multiple different versions of
processing for the same input data.</p>
<p>Examples of preprocessed data:</p>
<div class="highlight"><pre><span></span><code>└─ pipeline1/
   └─ sub-001/
      ├─ anat/
      │  ├─ sub-001_space-MNI305_T1w.nii.gz 
      │  └─ sub-001_space-MNI305_T1w.json 
      └─ func/
         ├─ sub-001_task-rest_run-1_space-MNI305_desc-preproc_bold.nii.gz 
         └─ sub-001_task-rest_run-1_space-MNI305_desc-preproc_bold.json 
</code></pre></div>
<div class="highlight"><pre><span></span><code>└─ pipeline2/
   └─ sub-001/
      └─ eeg/
         ├─ sub-001_task-listening_run-1_desc-autoannotation_events.tsv 
         ├─ sub-001_task-listening_run-1_desc-autoannotation_events.json 
         ├─ sub-001_task-listening_run-1_desc-filtered_eeg.edf 
         └─ sub-001_task-listening_run-1_desc-filtered_eeg.json 
</code></pre></div>
<p>All REQUIRED metadata fields coming from a derivative file’s source file(s) MUST
be propagated to the JSON description of the derivative unless the processing
makes them invalid (for example, if a source 4D image is averaged to create a single
static volume, a <code>RepetitionTime</code> property would no longer be relevant).</p>
<!-- Link Definitions -->
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        <!--
  Copyright (c) 2016-2019 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--><!-- Application footer -->
<footer class="md-footer">

  <!-- Link to previous and/or next page --><div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">

        <!-- Link to previous page --><a href="01-introduction.html"
              title="BIDS Derivatives"
              class="md-flex md-footer-nav__link md-footer-nav__link--prev"
              rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back
                    md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch
                  md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">Previous</span>BIDS Derivatives</span>
            </div>
          </a><!-- Link to next page --><a href="03-imaging.html"
              title="Imaging data types"
              class="md-flex md-footer-nav__link md-footer-nav__link--next"
              rel="next">
            <div class="md-flex__cell md-flex__cell--stretch
                  md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">Next</span>Imaging data types</span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward
                    md-footer-nav__button"></i>
            </div>
          </a></nav>
    </div><!-- Further information -->
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">

      <!-- Copyright and theme information -->
      <div class="md-footer-copyright">See the source code and discussion page on
        <a href="https://github.com/bids-standard/bids-specification">GitHub</a>
      </div>

      <!-- Social links --></div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.94ec81fe.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.48dfec6c.min.js"></script>
      
        <script src="../js/jquery-3.6.0.min.js"></script>
      
    
  </body>
</html>