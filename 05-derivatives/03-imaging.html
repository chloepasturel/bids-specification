
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="canonical" href="https://bids-specification.readthedocs.io/en/stable/05-derivatives/03-imaging.html">
      
      <link rel="icon" href="../images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.2, mkdocs-material-7.2.8">
    
    
      
        <title>Imaging data types - Brain Imaging Data Structure v1.6.1-dev</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.92558b1b.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.3f5d1f46.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#imaging-data-types" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Brain Imaging Data Structure v1.6.1-dev" class="md-header__button md-logo" aria-label="Brain Imaging Data Structure v1.6.1-dev" data-md-component="logo">
      
  <img src="../images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Brain Imaging Data Structure v1.6.1-dev
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Imaging data types
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Brain Imaging Data Structure v1.6.1-dev" class="md-nav__button md-logo" aria-label="Brain Imaging Data Structure v1.6.1-dev" data-md-component="logo">
      
  <img src="../images/logo.png" alt="logo">

    </a>
    Brain Imaging Data Structure v1.6.1-dev
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" checked>
      
      <label class="md-nav__link" for="__nav_1">
        The BIDS Specification
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="The BIDS Specification" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          The BIDS Specification
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../01-introduction.html" class="md-nav__link">
        Introduction
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../02-common-principles.html" class="md-nav__link">
        Common principles
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../03-modality-agnostic-files.html" class="md-nav__link">
        Modality agnostic files
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_4" type="checkbox" id="__nav_1_4" >
      
      <label class="md-nav__link" for="__nav_1_4">
        Modality specific files
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Modality specific files" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_4">
          <span class="md-nav__icon md-icon"></span>
          Modality specific files
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../04-modality-specific-files/01-magnetic-resonance-imaging-data.html" class="md-nav__link">
        Magnetic Resonance Imaging
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../04-modality-specific-files/02-magnetoencephalography.html" class="md-nav__link">
        Magnetoencephalography
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../04-modality-specific-files/03-electroencephalography.html" class="md-nav__link">
        Electroencephalography
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../04-modality-specific-files/04-intracranial-electroencephalography.html" class="md-nav__link">
        Intracranial Electroencephalography
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../04-modality-specific-files/05-task-events.html" class="md-nav__link">
        Task events
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../04-modality-specific-files/06-physiological-and-other-continuous-recordings.html" class="md-nav__link">
        Physiological and other continuous recordings
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../04-modality-specific-files/07-behavioral-experiments.html" class="md-nav__link">
        Behavioral experiments (with no neural recordings)
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../04-modality-specific-files/08-genetic-descriptor.html" class="md-nav__link">
        Genetic Descriptor
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../04-modality-specific-files/09-positron-emission-tomography.html" class="md-nav__link">
        Positron Emission Tomography
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_5" type="checkbox" id="__nav_1_5" checked>
      
      <label class="md-nav__link" for="__nav_1_5">
        Derivatives
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Derivatives" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_5">
          <span class="md-nav__icon md-icon"></span>
          Derivatives
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="01-introduction.html" class="md-nav__link">
        BIDS Derivatives
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="02-common-data-types.html" class="md-nav__link">
        Common data types and metadata
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Imaging data types
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="03-imaging.html" class="md-nav__link md-nav__link--active">
        Imaging data types
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#preprocessed-coregistered-andor-resampled-volumes" class="md-nav__link">
    Preprocessed, coregistered and/or resampled volumes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#masks" class="md-nav__link">
    Masks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#segmentations" class="md-nav__link">
    Segmentations
  </a>
  
    <nav class="md-nav" aria-label="Segmentations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#discrete-segmentations" class="md-nav__link">
    Discrete Segmentations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#probabilistic-segmentations" class="md-nav__link">
    Probabilistic Segmentations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#discrete-surface-segmentations" class="md-nav__link">
    Discrete surface segmentations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-image-derived-labels" class="md-nav__link">
    Common image-derived labels
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../06-longitudinal-and-multi-site-studies.html" class="md-nav__link">
        Longitudinal and multi-site studies
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../07-extensions.html" class="md-nav__link">
        BIDS Extension Proposals
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_8" type="checkbox" id="__nav_1_8" >
      
      <label class="md-nav__link" for="__nav_1_8">
        Appendix
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Appendix" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_8">
          <span class="md-nav__icon md-icon"></span>
          Appendix
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../99-appendices/01-contributors.html" class="md-nav__link">
        Contributors
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../99-appendices/02-licenses.html" class="md-nav__link">
        Licenses
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../99-appendices/03-hed.html" class="md-nav__link">
        Hierarchical Event Descriptors
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../99-appendices/04-entity-table.html" class="md-nav__link">
        Entity table
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../99-appendices/05-units.html" class="md-nav__link">
        Units
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../99-appendices/06-meg-file-formats.html" class="md-nav__link">
        MEG file formats
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../99-appendices/07-meg-systems.html" class="md-nav__link">
        MEG systems
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../99-appendices/08-coordinate-systems.html" class="md-nav__link">
        Coordinate systems
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../99-appendices/09-entities.html" class="md-nav__link">
        Entities
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../99-appendices/10-file-collections.html" class="md-nav__link">
        File collections
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../99-appendices/11-qmri.html" class="md-nav__link">
        Quantitative MRI
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../99-appendices/12-arterial-spin-labeling.html" class="md-nav__link">
        Arterial Spin Labeling
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../99-appendices/13-cross-modality-correspondence.html" class="md-nav__link">
        Cross modality correspondence
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../CHANGES.html" class="md-nav__link">
        Changelog
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      <label class="md-nav__link" for="__nav_2">
        The BIDS Starter Kit
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="The BIDS Starter Kit" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          The BIDS Starter Kit
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/bids-standard/bids-starter-kit" class="md-nav__link">
        GitHub repository
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/bids-standard/bids-starter-kit/wiki/Tutorials" class="md-nav__link">
        Tutorials
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/bids-standard/bids-starter-kit/wiki" class="md-nav__link">
        Wiki
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#preprocessed-coregistered-andor-resampled-volumes" class="md-nav__link">
    Preprocessed, coregistered and/or resampled volumes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#masks" class="md-nav__link">
    Masks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#segmentations" class="md-nav__link">
    Segmentations
  </a>
  
    <nav class="md-nav" aria-label="Segmentations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#discrete-segmentations" class="md-nav__link">
    Discrete Segmentations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#probabilistic-segmentations" class="md-nav__link">
    Probabilistic Segmentations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#discrete-surface-segmentations" class="md-nav__link">
    Discrete surface segmentations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-image-derived-labels" class="md-nav__link">
    Common image-derived labels
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="imaging-data-types"><a class="toclink" href="#imaging-data-types">Imaging data types</a></h1>
<p>This section pertains to imaging data, which characteristically have spatial
extent and resolution.</p>
<h2 id="preprocessed-coregistered-andor-resampled-volumes"><a class="toclink" href="#preprocessed-coregistered-andor-resampled-volumes">Preprocessed, coregistered and/or resampled volumes</a></h2>
<p>Template:</p>
<div class="highlight"><pre><span></span><code>&lt;pipeline_name&gt;/
    sub-&lt;label&gt;/
        &lt;datatype&gt;/
            &lt;source_entities&gt;[_space-&lt;space&gt;][_res-&lt;label&gt;][_den-&lt;label&gt;][_desc-&lt;label&gt;]_&lt;suffix&gt;.&lt;ext&gt;
</code></pre></div>
<p>Volumetric preprocessing does not modify the number of dimensions, and so
the specifications in <a href="02-common-data-types.html#preprocessed-or-cleaned-data">Preprocessed or cleaned data</a>
apply.
The use of surface meshes and volumetric measures sampled to those meshes is
sufficiently similar in practice to treat them equivalently.</p>
<p>When two or more instances of a given derivative are provided with resolution
or surface sampling density being the only difference between them, then the
<code>res</code> (for <em>resolution</em> of regularly sampled N-D data) and/or <code>den</code> (for
<em>density</em> of non-parametric surfaces) SHOULD be used to avoid name conflicts.
Note that only files combining both regularly sampled (for example, gridded)
and surface sampled data (and their downstream derivatives) are allowed
to present both <code>res</code> and <code>den</code> entities simultaneously.</p>
<p>Examples:</p>
<div class="highlight"><pre><span></span><code>└─ pipeline1/
   └─ sub-001/
      └─ func/
         ├─ sub-001_task-rest_run-1_space-MNI305_res-lo_bold.nii.gz 
         ├─ sub-001_task-rest_run-1_space-MNI305_res-hi_bold.nii.gz 
         └─ sub-001_task-rest_run-1_space-MNI305_bold.json 
</code></pre></div>
<p>The following metadata JSON fields are defined for preprocessed images:</p>
<table>
<thead>
<tr>
<th><strong>Key name</strong></th>
<th><strong>Requirement Level</strong></th>
<th><strong>Data type</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>SkullStripped</td>
<td>REQUIRED</td>
<td><a href="https://www.w3schools.com/js/js_json_datatypes.asp">boolean</a></td>
<td>Whether the volume was skull stripped (non-brain voxels set to zero) or not.</td>
</tr>
<tr>
<td>Resolution</td>
<td>REQUIRED if <code>res</code> is present</td>
<td><a href="https://www.w3schools.com/js/js_json_datatypes.asp">string</a> or <a href="https://www.json.org/json-en.html">object</a> of <a href="https://www.w3schools.com/js/js_json_datatypes.asp">strings</a></td>
<td>Specifies the interpretation of the resolution keyword. If an object is used, then the keys should be values for the <code>res</code> entity and values should be descriptions of those <code>res</code> values.</td>
</tr>
<tr>
<td>Density</td>
<td>REQUIRED if <code>den</code> is present</td>
<td><a href="https://www.w3schools.com/js/js_json_datatypes.asp">string</a> or <a href="https://www.json.org/json-en.html">object</a> of <a href="https://www.w3schools.com/js/js_json_datatypes.asp">strings</a></td>
<td>Specifies the interpretation of the density keyword. If an object is used, then the keys should be values for the <code>den</code> entity and values should be descriptions of those <code>den</code> values.</td>
</tr>
</tbody>
</table>
<p>Example JSON file corresponding to
<code>pipeline1/sub-001/func/sub-001_task-rest_run-1_space-MNI305_bold.json</code> above:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
  <span class="nt">&quot;SkullStripped&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nt">&quot;Resolution&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;hi&quot;</span><span class="p">:</span> <span class="s2">&quot;Matched with high-resolution T1w (0.7mm, isotropic)&quot;</span><span class="p">,</span>
    <span class="nt">&quot;lo&quot;</span><span class="p">:</span> <span class="s2">&quot;Matched with original BOLD resolution (2x2x3 mm^3)&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>This would be equivalent to having two JSON metadata files, one
corresponding to <code>res-lo</code>
(<code>pipeline1/sub-001/func/sub-001_task-rest_run-1_space-MNI305_res-lo_bold.json</code>):</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
  <span class="nt">&quot;SkullStripped&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nt">&quot;Resolution&quot;</span><span class="p">:</span> <span class="s2">&quot;Matched with original BOLD resolution (2x2x3 mm^3)&quot;</span>
<span class="p">}</span>
</code></pre></div>
<p>And one corresponding to <code>res-hi</code>
(<code>pipeline1/sub-001/func/sub-001_task-rest_run-1_space-MNI305_res-hi_bold.json</code>):</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
  <span class="nt">&quot;SkullStripped&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nt">&quot;Resolution&quot;</span><span class="p">:</span> <span class="s2">&quot;Matched with high-resolution T1w (0.7mm, isotropic)&quot;</span>
<span class="p">}</span>
</code></pre></div>
<p>Example of CIFTI-2 files (a format that combines regularly sampled data
and non-parametric surfaces) having both <code>res</code> and <code>den</code> entities:</p>
<div class="highlight"><pre><span></span><code>└─ pipeline1/
   └─ sub-001/
      └─ func/
         ├─ sub-001_task-rest_run-1_space-fsLR_res-1_den-10k_bold.dtseries.nii 
         ├─ sub-001_task-rest_run-1_space-fsLR_res-1_den-41k_bold.dtseries.nii 
         ├─ sub-001_task-rest_run-1_space-fsLR_res-2_den-10k_bold.dtseries.nii 
         ├─ sub-001_task-rest_run-1_space-fsLR_res-2_den-41k_bold.dtseries.nii 
         └─ sub-001_task-rest_run-1_space-fsLR_bold.json 
</code></pre></div>
<p>And the corresponding <code>sub-001_task-rest_run-1_space-fsLR_bold.json</code> file:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
    <span class="nt">&quot;SkullStripped&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nt">&quot;Resolution&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;1&quot;</span><span class="p">:</span> <span class="s2">&quot;Matched with MNI152NLin6Asym 1.6mm isotropic&quot;</span><span class="p">,</span>
        <span class="nt">&quot;2&quot;</span><span class="p">:</span> <span class="s2">&quot;Matched with MNI152NLin6Asym 2.0mm isotropic&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;Density&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;10k&quot;</span><span class="p">:</span> <span class="s2">&quot;10242 vertices per hemisphere (5th order icosahedron)&quot;</span><span class="p">,</span>
        <span class="nt">&quot;41k&quot;</span><span class="p">:</span> <span class="s2">&quot;40962 vertices per hemisphere (6th order icosahedron)&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="masks"><a class="toclink" href="#masks">Masks</a></h2>
<p>Template:</p>
<div class="highlight"><pre><span></span><code>&lt;pipeline_name&gt;/
    sub-&lt;label&gt;/
        anat|func|dwi/
            &lt;source_entities&gt;[_space-&lt;space&gt;][_res-&lt;label&gt;][_den-&lt;label&gt;][_label-&lt;label&gt;][_desc-&lt;label&gt;]_mask.nii.gz
</code></pre></div>
<p>A binary (1 - inside, 0 - outside) mask in the space defined by <code>&lt;space&gt;</code>.
If no transformation has taken place, the value of <code>space</code> SHOULD be set to <code>orig</code>.
If the mask is an ROI mask derived from an atlas, then the <code>label</code> entity SHOULD
be used to specify the masked structure
(see <a href="#common-image-derived-labels">Common image-derived labels</a>),
and the <code>Atlas</code> metadata SHOULD be defined.</p>
<p>JSON metadata fields:</p>
<table>
<thead>
<tr>
<th><strong>Key name</strong></th>
<th><strong>Requirement Level</strong></th>
<th><strong>Data type</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>RawSources</td>
<td>REQUIRED</td>
<td><a href="https://www.w3schools.com/js/js_json_arrays.asp">array</a> of <a href="https://www.w3schools.com/js/js_json_datatypes.asp">strings</a></td>
<td>A list of paths relative to dataset root pointing to the BIDS-Raw file(s) that were used in the creation of this derivative.</td>
</tr>
<tr>
<td>Type</td>
<td>RECOMMENDED</td>
<td><a href="https://www.w3schools.com/js/js_json_datatypes.asp">string</a></td>
<td>Short identifier of the mask. Reserved values: <code>Brain</code> - brain mask, <code>Lesion</code> - lesion mask, <code>Face</code> - face mask, <code>ROI</code> - ROI mask</td>
</tr>
<tr>
<td>Atlas</td>
<td>RECOMMENDED if <code>label</code> entity is defined</td>
<td><a href="https://www.w3schools.com/js/js_json_datatypes.asp">string</a></td>
<td>Which atlas (if any) was used to generate the mask.</td>
</tr>
<tr>
<td>Resolution</td>
<td>REQUIRED if <code>res</code> is present</td>
<td><a href="https://www.w3schools.com/js/js_json_datatypes.asp">string</a> or <a href="https://www.json.org/json-en.html">object</a> of <a href="https://www.w3schools.com/js/js_json_datatypes.asp">strings</a></td>
<td>Specifies the interpretation of the resolution keyword. If an object is used, then the keys should be values for the <code>res</code> entity and values should be descriptions of those <code>res</code> values.</td>
</tr>
<tr>
<td>Density</td>
<td>REQUIRED if <code>den</code> is present</td>
<td><a href="https://www.w3schools.com/js/js_json_datatypes.asp">string</a> or <a href="https://www.json.org/json-en.html">object</a> of <a href="https://www.w3schools.com/js/js_json_datatypes.asp">strings</a></td>
<td>Specifies the interpretation of the density keyword. If an object is used, then the keys should be values for the <code>den</code> entity and values should be descriptions of those <code>den</code> values.</td>
</tr>
</tbody>
</table>
<p>Examples:</p>
<div class="highlight"><pre><span></span><code>└─ func_loc/
   └─ sub-001/
      └─ func/
         ├─ sub-001_task-rest_run-1_space-MNI305_desc-PFC_mask.nii.gz 
         └─ sub-001_task-rest_run-1_space-MNI305_desc-PFC_mask.json 
</code></pre></div>
<div class="highlight"><pre><span></span><code>└─ manual_masks/
   └─ sub-001/
      └─ anat/
         ├─ sub-001_desc-tumor_mask.nii.gz 
         └─ sub-001_desc-tumor_mask.json 
</code></pre></div>
<h2 id="segmentations"><a class="toclink" href="#segmentations">Segmentations</a></h2>
<p>A <em>segmentation</em> is a labeling of regions of an image such that each location
(for example, a voxel or a surface vertex) is identified with a label or a
combination of labels.
Labeled regions may include anatomical structures (such as tissue class,
Brodmann area or white matter tract), discontiguous, functionally-defined
networks, tumors or lesions.</p>
<p>A <em>discrete segmentation</em> represents each region with a unique integer
label.
A <em>probabilistic segmentation</em> represents each region as values between
0 and 1 (inclusive) at each location in the image, and one volume/frame per
structure may be concatenated in a single file.</p>
<p>Segmentations may be defined in a volume (labeled voxels), a surface (labeled
vertices) or a combined volume/surface space.</p>
<p>The following section describes discrete and probabilistic segmentations of
volumes, followed by discrete segmentations of surface/combined spaces.
Probabilistic segmentations of surfaces are currently <a href="../02-common-principles.html#unspecified-data">unspecified</a>.</p>
<p>The following metadata fields apply to all segmentation files:</p>
<table>
<thead>
<tr>
<th><strong>Key name</strong></th>
<th><strong>Requirement Level</strong></th>
<th><strong>Data type</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Manual</td>
<td>OPTIONAL</td>
<td><a href="https://www.w3schools.com/js/js_json_datatypes.asp">boolean</a></td>
<td>Indicates if the segmentation was performed manually or via an automated process.</td>
</tr>
<tr>
<td>Atlas</td>
<td>OPTIONAL</td>
<td><a href="https://www.w3schools.com/js/js_json_datatypes.asp">string</a></td>
<td>Which atlas (if any) was used to generate the mask.</td>
</tr>
<tr>
<td>Resolution</td>
<td>REQUIRED if <code>res</code> is present</td>
<td><a href="https://www.w3schools.com/js/js_json_datatypes.asp">string</a> or <a href="https://www.json.org/json-en.html">object</a> of <a href="https://www.w3schools.com/js/js_json_datatypes.asp">strings</a></td>
<td>Specifies the interpretation of the resolution keyword. If an object is used, then the keys should be values for the <code>res</code> entity and values should be descriptions of those <code>res</code> values.</td>
</tr>
<tr>
<td>Density</td>
<td>REQUIRED if <code>den</code> is present</td>
<td><a href="https://www.w3schools.com/js/js_json_datatypes.asp">string</a> or <a href="https://www.json.org/json-en.html">object</a> of <a href="https://www.w3schools.com/js/js_json_datatypes.asp">strings</a></td>
<td>Specifies the interpretation of the density keyword. If an object is used, then the keys should be values for the <code>den</code> entity and values should be descriptions of those <code>den</code> values.</td>
</tr>
</tbody>
</table>
<h3 id="discrete-segmentations"><a class="toclink" href="#discrete-segmentations">Discrete Segmentations</a></h3>
<p>Discrete segmentations of brain tissue represent multiple anatomical structures
(such as tissue class or Brodmann area) with a unique integer label in a 3D volume.
See <a href="#common-image-derived-labels">Common image-derived labels</a> for a description
of how integer values map to anatomical structures.</p>
<p>Template:</p>
<div class="highlight"><pre><span></span><code>&lt;pipeline_name&gt;/
    sub-&lt;label&gt;/
        anat|func|dwi/
            &lt;source_entities&gt;[_space-&lt;space&gt;][_res-&lt;label&gt;][_den-&lt;label&gt;]_dseg.nii.gz
</code></pre></div>
<p>Example:</p>
<div class="highlight"><pre><span></span><code>└─ pipeline/
   └─ sub-001/
      └─ anat/
         ├─ sub-001_space-orig_dseg.nii.gz 
         └─ sub-001_space-orig_dseg.json 
</code></pre></div>
<p>A segmentation can be used to generate a binary mask that functions as a
discrete "label" for a single structure.
In this case, the mask suffix MUST be used, the <code>label</code> entity SHOULD be used
to specify the masked structure
(see <a href="#common-image-derived-labels">Common image-derived labels</a>),
and the <code>Atlas</code> metadata SHOULD be defined.
For example:</p>
<div class="highlight"><pre><span></span><code>└─ pipeline/
   └─ sub-001/
      └─ anat/
         └─ sub-001_space-orig_label-GM_mask.nii.gz 
</code></pre></div>
<h3 id="probabilistic-segmentations"><a class="toclink" href="#probabilistic-segmentations">Probabilistic Segmentations</a></h3>
<p>Probabilistic segmentations of brain tissue represent a single anatomical
structure with values ranging from 0 to 1 in individual 3D volumes or across
multiple frames.
If a single structure is included, the <code>label</code> entity SHOULD be used to specify
the structure.</p>
<p>Template:</p>
<div class="highlight"><pre><span></span><code>&lt;pipeline_name&gt;/
    sub-&lt;label&gt;/
        func|anat|dwi/
            &lt;source_entities&gt;[_space-&lt;space&gt;][_res-&lt;label&gt;][_den-&lt;label&gt;][_label-&lt;label&gt;]_probseg.nii.gz
</code></pre></div>
<p>Example:</p>
<div class="highlight"><pre><span></span><code>└─ pipeline/
   └─ sub-001/
      └─ anat/
         ├─ sub-001_space-orig_label-BG_probseg.nii.gz 
         └─ sub-001_space-orig_label-WM_probseg.nii.gz 
</code></pre></div>
<p>See <a href="#common-image-derived-labels">Common image-derived labels</a>
for reserved key values for <code>label</code>.</p>
<p>A 4D probabilistic segmentation, in which each frame corresponds to a different
tissue class, must provide a label mapping in its JSON sidecar. For example:</p>
<div class="highlight"><pre><span></span><code>└─ pipeline/
   └─ sub-001/
      └─ anat/
         ├─ sub-001_space-orig_probseg.nii.gz 
         └─ sub-001_space-orig_probseg.json 
</code></pre></div>
<p>The JSON sidecar MUST include the label-map key that specifies a tissue label
for each volume:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
    <span class="nt">&quot;LabelMap&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;BG&quot;</span><span class="p">,</span>
        <span class="s2">&quot;WM&quot;</span><span class="p">,</span>
        <span class="s2">&quot;GM&quot;</span>
        <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>Values of <code>label</code> SHOULD correspond to abbreviations defined in
<a href="#common-image-derived-labels">Common image-derived labels</a>.</p>
<h3 id="discrete-surface-segmentations"><a class="toclink" href="#discrete-surface-segmentations">Discrete surface segmentations</a></h3>
<p>Discrete surface segmentations (sometimes called <em>parcellations</em>) of cortical
structures MUST be stored as GIFTI label files, with the extension <code>.label.gii</code>.
For combined volume/surface spaces, discrete segmentations MUST be stored as
CIFTI-2 dense label files, with the extension <code>.dlabel.nii</code>.</p>
<p>Template:</p>
<div class="highlight"><pre><span></span><code>&lt;pipeline_name&gt;/
    sub-&lt;label&gt;/
        anat/
            &lt;source_entities&gt;[_hemi-{L|R}][_space-&lt;space&gt;][_res-&lt;label&gt;][_den-&lt;label&gt;]_dseg.{label.gii|dlabel.nii}
</code></pre></div>
<p>The <code>hemi</code> tag is REQUIRED for GIFTI files storing information about
a structure that is restricted to a hemibrain.
For example:</p>
<div class="highlight"><pre><span></span><code>└─ pipeline/
   └─ sub-001/
      └─ anat/
         ├─ sub-001_hemi-L_dseg.label.gii 
         └─ sub-001_hemi-R_dseg.label.gii 
</code></pre></div>
<p>The REQUIRED extension for CIFTI parcellations is <code>.dlabel.nii</code>. For example:</p>
<div class="highlight"><pre><span></span><code>└─ pipeline/
   └─ sub-001/
      └─ anat/
         └─ sub-001_dseg.dlabel.nii 
</code></pre></div>
<h3 id="common-image-derived-labels"><a class="toclink" href="#common-image-derived-labels">Common image-derived labels</a></h3>
<p>BIDS supplies a standard, generic label-index mapping, defined in the table
below, that contains common image-derived segmentations and can be used to map segmentations
(and parcellations) between lookup tables.</p>
<table>
<thead>
<tr>
<th><strong>Integer value</strong></th>
<th><strong>Description</strong></th>
<th><strong>Abbreviation (label)</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>Background</td>
<td>BG</td>
</tr>
<tr>
<td>1</td>
<td>Gray Matter</td>
<td>GM</td>
</tr>
<tr>
<td>2</td>
<td>White Matter</td>
<td>WM</td>
</tr>
<tr>
<td>3</td>
<td>Cerebrospinal Fluid</td>
<td>CSF</td>
</tr>
<tr>
<td>4</td>
<td>Bone</td>
<td>B</td>
</tr>
<tr>
<td>5</td>
<td>Soft Tissue</td>
<td>ST</td>
</tr>
<tr>
<td>6</td>
<td>Non-brain</td>
<td>NB</td>
</tr>
<tr>
<td>7</td>
<td>Lesion</td>
<td>L</td>
</tr>
<tr>
<td>8</td>
<td>Cortical Gray Matter</td>
<td>CGM</td>
</tr>
<tr>
<td>9</td>
<td>Subcortical Gray Matter</td>
<td>SGM</td>
</tr>
<tr>
<td>10</td>
<td>Brainstem</td>
<td>BS</td>
</tr>
<tr>
<td>11</td>
<td>Cerebellum</td>
<td>CBM</td>
</tr>
</tbody>
</table>
<p>These definitions can be overridden (or added to) by providing custom labels in
a sidecar <code>&lt;matches&gt;.tsv</code> file, in which <code>&lt;matches&gt;</code> corresponds to segmentation
filename.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code>└─ pipeline/
   └─ sub-001/
      └─ anat/
         ├─ sub-001_space-orig_dseg.nii.gz 
         └─ sub-001_space-orig_dseg.tsv 
</code></pre></div>
<p>Definitions can also be specified with a top-level <code>dseg.tsv</code>, which propagates to
segmentations in relative subdirectories.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code>└─ pipeline/
   ├─ dseg.tsv 
   └─ sub-001/
      └─ anat/
         └─ sub-001_space-orig_dseg.nii.gz 
</code></pre></div>
<p>These TSV lookup tables contain the following columns:</p>
<table>
<thead>
<tr>
<th><strong>Column name</strong></th>
<th><strong>Requirement level</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>index</td>
<td>REQUIRED</td>
<td>The label integer index</td>
</tr>
<tr>
<td>name</td>
<td>REQUIRED</td>
<td>The unique label name</td>
</tr>
<tr>
<td>abbreviation</td>
<td>OPTIONAL</td>
<td>The unique label abbreviation</td>
</tr>
<tr>
<td>color</td>
<td>OPTIONAL</td>
<td>Hexadecimal. Label color for visualization</td>
</tr>
<tr>
<td>mapping</td>
<td>OPTIONAL</td>
<td>Corresponding integer label in the standard BIDS label lookup</td>
</tr>
</tbody>
</table>
<p>An example, custom <code>dseg.tsv</code> that defines three labels:</p>
<div class="highlight"><pre><span></span><code>index   name            abbreviation    color       mapping
100     Gray Matter     GM              #ff53bb     1
101     White Matter    WM              #2f8bbe     2
102     Brainstem       BS              #36de72     11
</code></pre></div>
<p>The following example <code>dseg.tsv</code> defines regions that are not part of the
standard BIDS labels:</p>
<div class="highlight"><pre><span></span><code>index   name                abbreviation
137     pars opercularis    IFGop
138     pars triangularis   IFGtr
139     pars orbitalis      IFGor
</code></pre></div>
<!-- Link Definitions -->
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        <!--
  Copyright (c) 2016-2019 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--><!-- Application footer -->
<footer class="md-footer">

  <!-- Link to previous and/or next page --><div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">

        <!-- Link to previous page --><a href="02-common-data-types.html"
              title="Common data types and metadata"
              class="md-flex md-footer-nav__link md-footer-nav__link--prev"
              rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back
                    md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch
                  md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">Previous</span>Common data types and metadata</span>
            </div>
          </a><!-- Link to next page --><a href="../06-longitudinal-and-multi-site-studies.html"
              title="Longitudinal and multi-site studies"
              class="md-flex md-footer-nav__link md-footer-nav__link--next"
              rel="next">
            <div class="md-flex__cell md-flex__cell--stretch
                  md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">Next</span>Longitudinal and multi-site studies</span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward
                    md-footer-nav__button"></i>
            </div>
          </a></nav>
    </div><!-- Further information -->
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">

      <!-- Copyright and theme information -->
      <div class="md-footer-copyright">See the source code and discussion page on
        <a href="https://github.com/bids-standard/bids-specification">GitHub</a>
      </div>

      <!-- Social links --></div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.94ec81fe.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.48dfec6c.min.js"></script>
      
        <script src="../js/jquery-3.6.0.min.js"></script>
      
    
  </body>
</html>